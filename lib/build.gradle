apply plugin: 'org.jetbrains.dokka'

dependencies {
    compile "com.squareup.okhttp3:okhttp:$okhttpVersion"
    compile "com.fasterxml.jackson.module:jackson-module-kotlin:$jacksonVersion"
    compile "com.fasterxml.jackson.core:jackson-databind:$jacksonVersion"
    testCompile "com.squareup.okhttp3:mockwebserver:$okhttpVersion"
    testCompile 'net.sourceforge.htmlunit:htmlunit:2.27'
}

sourceSets {
    gen // Generated Java code (see the :meta project)
    main {
        java {
            // Include generated sources
            source gen.allSource
        }
    }
}

dokka {
    moduleName = 'jraw'
    jdkVersion = 7
    impliedPlatforms = ['JVM']
    reportNotDocumented = true
    outputFormat = 'javadoc'

    linkMapping {
        dir = file('src/main/kotlin')
        url = 'https://github.com/thatJavaNerd/JRAW/tree/kotlin/lib/src/main/kotlin'
        suffix = '#L'
    }
}
